# Tabu: Tabu Search（タブー探索）

**タブー探索（Tabu Search, TS）**は、最近訪れた解を「タブーリスト」に記録し、短期間はその解に戻らないようにすることで、局所最適解を回避するメタヒューリスティック最適化手法です。

---

### 1. 基本的なアイデア

**タブーリストの概念**:
- **タブーリスト（Tabu List）**: 最近訪れた解や操作を記録
- **タブー期間**: タブーリストに残る期間
- **Aspiration Criteria**: タブー解でも、十分に良い場合は受理
- **多様化**: 長期的に探索領域を広げる

---

### 2. アルゴリズムの流れ

```
1. 初期解 x を生成
2. 最良解 x* = x を記録
3. タブーリストを初期化
4. 終了条件を満たすまで繰り返し:
   a. 現在の解 x の近傍から候補解を生成
   b. タブーリストにない候補、またはAspiration条件を満たす候補を選択
   c. 最良の候補解 x' を選択
   d. x ← x'
   e. タブーリストを更新
   f. f(x') < f(x*) なら x* ← x'
5. 最良解 x* を返す
```

---

### 3. 数式による定式化

#### 3.1 近傍の定義

現在の解 \(x\) の近傍 \(\mathcal{N}(x)\):
\[
\mathcal{N}(x) = \{x' : x' \text{ は } x \text{ から1回の操作で得られる解}\}
\]

#### 3.2 タブーリスト

タブーリスト \(T\) は、最近 \(L\) 回の操作を記録：
\[
T = \{t_1, t_2, \ldots, t_L\}
\]

ここで、\(L\) はタブーリストの長さ（タブー期間）。

#### 3.3 候補解の選択

タブーでない候補、またはAspiration条件を満たす候補から最良のものを選択：
\[
x' = \arg\min_{x'' \in \mathcal{C}} f(x'')
\]

ここで、\(\mathcal{C}\) は許容可能な候補解の集合：
\[
\mathcal{C} = \{x'' \in \mathcal{N}(x) : x'' \notin T \text{ または } f(x'') < f(x^*)\}
\]

#### 3.4 タブーリストの更新

新しい操作 \(t_{\text{new}}\) をタブーリストに追加：
\[
T \leftarrow (T \cup \{t_{\text{new}}\}) \setminus \{t_{\text{oldest}}\}
\]

---

### 4. XAIへの応用

#### 4.1 特徴選択

**問題**: どの特徴が予測に重要かを見つける

**Tabu Searchの適用**:
- **解**: 特徴の選択パターン
- **近傍操作**: 特徴の追加・削除・交換
- **タブー**: 最近試した特徴の組み合わせ
- **目的**: 少ない特徴で高い性能を達成

#### 4.2 説明の最適化

**問題**: 最適な説明を生成する

**Tabu Searchの適用**:
- **解**: 説明の候補（特徴の重み、ルールなど）
- **近傍操作**: 説明の微調整
- **タブー**: 最近試した説明
- **目的**: 高品質な説明を見つける

#### 4.3 ルール抽出

**問題**: 最適なルールセットを見つける

**Tabu Searchの適用**:
- **解**: ルールセット
- **近傍操作**: ルールの追加・削除・修正
- **タブー**: 最近試したルールの組み合わせ
- **目的**: 高精度で簡潔なルールセットを見つける

---

### 5. 利点と欠点

**利点**:
- 局所最適解を回避できる
- 実装が比較的簡単
- 多様な問題に適用可能
- 探索の多様性を保つ

**欠点**:
- タブーリストの長さの調整が必要
- 収束が遅い場合がある
- メモリ使用量が増える可能性がある
- 最適解の保証がない

---

### 6. 実装上の注意点

- **タブーリストの長さ**: 通常5～20（問題サイズに応じて調整）
- **Aspiration Criteria**: 最良解を更新する場合はタブーを無視
- **多様化**: 長期的に探索領域を広げる仕組みを追加
- **近傍の定義**: 問題に応じて適切に定義する

---

### 7. バリエーション

- **標準Tabu Search**: 上記の基本アルゴリズム
- **Reactive Tabu Search**: タブーリストの長さを適応的に調整
- **Parallel Tabu Search**: 複数の解を並列に探索
- **Continuous Tabu Search**: 連続最適化問題への拡張

---

### 8. まとめ

タブー探索は、最近訪れた解を記録することで局所最適解を回避する効果的な最適化手法です。XAIにおいては、特徴選択、説明の最適化、ルール抽出などに応用されています。探索の多様性を保ちながら良い解を見つけることができるため、実用的な手法として広く使われています。

